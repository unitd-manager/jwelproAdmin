{"version":3,"sources":["components/apps/ticket/TicketListing.js","components/apps/ticket/TicketFilter.js","views/apps/ticket/TicketList.js"],"names":["TicketListing","dispatch","useDispatch","useEffect","fetchTickets","tickets","useSelector","state","filter","ticketSearch","c","deleted","ticketTitle","toLocaleLowerCase","includes","Status","Error","getVisibleTickets","ticketReducer","currentFilter","className","type","onChange","e","SearchTicket","target","value","placeholder","map","ticket","Id","to","style","width","ticketDescription","color","Label","AgentName","Date","id","onClick","DeleteTicket","placement","TicketFilter","counter","pendingC","t","length","openC","closeC","lg","setVisibilityFilter","TicketList"],"mappings":"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","file":"static/js/185.b93ca7ba.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { Table, Badge, UncontrolledTooltip, Input } from 'reactstrap';\r\nimport { fetchTickets, DeleteTicket, SearchTicket } from '../../../store/apps/ticket/TicketSlice';\r\n\r\nconst TicketListing = () => {\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    dispatch(fetchTickets());\r\n  }, [dispatch]);\r\n\r\n  const getVisibleTickets = (tickets, filter, ticketSearch) => {\r\n    switch (filter) {\r\n      case 'total_tickets':\r\n        return tickets.filter(\r\n          (c) => !c.deleted && c.ticketTitle.toLocaleLowerCase().includes(ticketSearch),\r\n        );\r\n\r\n      case 'Pending':\r\n        return tickets.filter(\r\n          (c) =>\r\n            !c.deleted &&\r\n            c.Status === 'Pending' &&\r\n            c.ticketTitle.toLocaleLowerCase().includes(ticketSearch),\r\n        );\r\n\r\n      case 'Closed':\r\n        return tickets.filter(\r\n          (c) =>\r\n            !c.deleted &&\r\n            c.Status === 'Closed' &&\r\n            c.ticketTitle.toLocaleLowerCase().includes(ticketSearch),\r\n        );\r\n\r\n      case 'Open':\r\n        return tickets.filter(\r\n          (c) =>\r\n            !c.deleted &&\r\n            c.Status === 'Open' &&\r\n            c.ticketTitle.toLocaleLowerCase().includes(ticketSearch),\r\n        );\r\n\r\n      default:\r\n        throw new Error(`Unknown filter: ${filter}`);\r\n    }\r\n  };\r\n\r\n  const tickets = useSelector((state) =>\r\n    getVisibleTickets(\r\n      state.ticketReducer.tickets,\r\n      state.ticketReducer.currentFilter,\r\n      state.ticketReducer.ticketSearch,\r\n    ),\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"col-lg-3 mb-4\">\r\n        <Input\r\n          type=\"text\"\r\n          onChange={(e) => dispatch(SearchTicket(e.target.value))}\r\n          placeholder=\"Search Ticket...\"\r\n        />\r\n      </div>\r\n      <Table className=\"align-middle\">\r\n        <thead>\r\n          <tr>\r\n            <th>No</th>\r\n            <th>Ticket</th>\r\n            <th>Status</th>\r\n            <th>Assigned to</th>\r\n            <th>Date</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {tickets.map((ticket) => (\r\n            <tr key={ticket.Id}>\r\n              <td>{ticket.Id}</td>\r\n              <td>\r\n                <h5 className=\"mb-0 mt-2\">\r\n                  <Link to=\"/apps/ticket-detail\" className=\"text-dark text-decoration-none\">\r\n                    {ticket.ticketTitle}\r\n                  </Link>\r\n                </h5>\r\n                <small className=\"text-muted d-block text-truncate mb-2\" style={{ width: '300px' }}>\r\n                  {ticket.ticketDescription}\r\n                </small>\r\n              </td>\r\n              <td>\r\n                <Badge color={ticket.Label}>{ticket.Status}</Badge>\r\n              </td>\r\n              <td>{ticket.AgentName}</td>\r\n              <td>{ticket.Date}</td>\r\n              <td>\r\n                <i\r\n                  className=\"bi bi-trash cursor-pointer\"\r\n                  id=\"TooltipExample\"\r\n                  onClick={() => dispatch(DeleteTicket(ticket.Id))}\r\n                />\r\n                <UncontrolledTooltip placement=\"left\" target=\"TooltipExample\">\r\n                  Delete\r\n                </UncontrolledTooltip>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketListing;\r\n","import { Row, Col, Card, CardBody } from 'reactstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { setVisibilityFilter } from '../../../store/apps/ticket/TicketSlice';\r\n\r\nconst TicketFilter = () => {\r\n  const dispatch = useDispatch();\r\n  const counter = useSelector((state) => state.ticketReducer.tickets);\r\n  const pendingC = counter.filter((t) => t.Status === 'Pending').length;\r\n  const openC = counter.filter((t) => t.Status === 'Open').length;\r\n  const closeC = counter.filter((t) => t.Status === 'Closed').length;\r\n  return (\r\n    <Row>\r\n      <Col lg=\"3\">\r\n        <Card\r\n          color=\"primary\"\r\n          className=\"text-white text-center cursor-pointer\"\r\n          onClick={() => dispatch(setVisibilityFilter('total_tickets'))}\r\n        >\r\n          <CardBody>\r\n            <h2>{counter.length}</h2>\r\n            <h5>Total Tickets</h5>\r\n          </CardBody>\r\n        </Card>\r\n      </Col>\r\n      <Col lg=\"3\">\r\n        <Card\r\n          color=\"warning\"\r\n          className=\"text-white text-center cursor-pointer\"\r\n          onClick={() => dispatch(setVisibilityFilter('Pending'))}\r\n        >\r\n          <CardBody>\r\n            <h2>{pendingC}</h2>\r\n            <h5>Pending Tickets</h5>\r\n          </CardBody>\r\n        </Card>\r\n      </Col>\r\n      <Col lg=\"3\">\r\n        <Card\r\n          color=\"success\"\r\n          className=\"text-white text-center cursor-pointer\"\r\n          onClick={() => dispatch(setVisibilityFilter('Open'))}\r\n        >\r\n          <CardBody>\r\n            <h2>{openC}</h2>\r\n            <h5>Open Tickets</h5>\r\n          </CardBody>\r\n        </Card>\r\n      </Col>\r\n      <Col lg=\"3\">\r\n        <Card\r\n          color=\"danger\"\r\n          className=\"text-white text-center cursor-pointer\"\r\n          onClick={() => dispatch(setVisibilityFilter('Closed'))}\r\n        >\r\n          <CardBody>\r\n            <h2>{closeC}</h2>\r\n            <h5>Closed Tickets</h5>\r\n          </CardBody>\r\n        </Card>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default TicketFilter;\r\n","import { Card, CardBody } from 'reactstrap';\r\nimport TicketListing from '../../../components/apps/ticket/TicketListing';\r\nimport TicketFilter from '../../../components/apps/ticket/TicketFilter';\r\n\r\nconst TicketList = () => {\r\n  return (\r\n    <Card>\r\n      <CardBody>\r\n        <TicketFilter />\r\n        <TicketListing />\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default TicketList;\r\n"],"sourceRoot":""}