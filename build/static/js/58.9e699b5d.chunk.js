(this["webpackJsonpmain-bt5"]=this["webpackJsonpmain-bt5"]||[]).push([[58,183],{142:function(e,t,c){"use strict";var n=c(63),a=c(12),s=c(58),r=c(3);t.a=function(e){var t=Object(a.f)(),c=t.pathname.split("/")[1],o=t.pathname.split("/")[2];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("h4",{children:e.heading}),Object(r.jsxs)(n.c,{children:[Object(r.jsx)(n.d,{to:"/",tag:s.b,className:"text-decoration-none",children:"Home"}),c?Object(r.jsx)(n.d,{active:!0,children:c}):"",o?Object(r.jsx)(n.d,{active:!0,children:o}):""]})]})}},143:function(e,t,c){"use strict";var n=c(159);c(184);t.a=function(e,t){return"success"===t?n.b.success(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"error"===t?n.b.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"info"===t?n.b.info(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):"warning"===t?n.b.warning(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}):Object(n.b)(e)}},148:function(e,t,c){"use strict";c.r(t);var n=c(63),a=(c(1),c(3));function s(e){var t=e.details,c=void 0===t?null:t,s=e.title;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(n.o,{tag:"h4",className:"border-bottom px-4 py-3 mb-0",children:Object(a.jsxs)(n.eb,{children:[Object(a.jsx)(n.s,{children:s}),c&&Object(a.jsxs)(n.s,{children:[Object(a.jsx)(n.eb,{children:Object(a.jsxs)("small",{children:[" Creation: ",c&&c.created_by," ",c&&c.creation_date]})}),Object(a.jsx)(n.eb,{className:"d-flex",children:Object(a.jsxs)("small",{children:[" Modified: ",c&&c.modified_by," ",c&&c.modification_date]})})]})]})})})}t.default=function(e){var t=e.children,c=e.title,r=e.subtitle,o=e.creationModificationDate;return Object(a.jsxs)(n.i,{className:"shadow-none",children:[Object(a.jsx)(s,{details:o,title:c}),Object(a.jsxs)(n.j,{className:"p-4",children:[Object(a.jsx)(n.m,{className:"text-muted mb-3",children:r||""}),Object(a.jsx)("div",{children:t})]})]})}},1513:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c(9),s=c(27),r=c(1),o=c(63),i=c(159),l=c(747),d=c(500),j=c(357),b=c(12),u=(c(270),c(271),c(291)),h=c.n(u),O=c(142),m=c(148),x=c(272),f=c(308),p=c(307),g=c(762),y=c(143),C=c(7),v=c(373),w=c(64),_=c(202),N=c(187),S=c.n(N),k=c(3);function D(e){var t=e.schemeEditDetails,c=e.handleInputs,n=e.schemeStatus;return Object(k.jsx)("div",{children:Object(k.jsxs)(m.default,{title:"Scheme Details",creationModificationDate:t,children:[Object(k.jsx)(i.a,{}),Object(k.jsxs)(o.eb,{children:[Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsxs)(o.H,{children:[" Title",Object(k.jsx)("span",{className:"required",children:" *"}),"  "]}),Object(k.jsx)(o.E,{type:"text",onChange:c,value:t&&t.title,name:"title"})]})}),Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:" Amount "}),Object(k.jsx)(o.E,{type:"text",onChange:c,value:t&&t.amount,name:"amount"})]})}),Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:"Start Date"}),Object(k.jsx)(o.E,{type:"date",onChange:c,value:t&&S()(t.start_date).format("YYYY-MM-DD"),name:"start_date"})]})}),Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:"End Date"}),Object(k.jsx)(o.E,{type:"date",onChange:c,value:t&&S()(t.end_date).format("YYYY-MM-DD"),name:"end_date"})]})}),Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:" Status "}),Object(k.jsxs)(o.E,{type:"select",onChange:c,value:t&&t.status,name:"status",children:[Object(k.jsx)("option",{value:"",selected:"selected",children:"Please Select"}),n&&n.map((function(e){return Object(k.jsx)("option",{value:e.valuelist_id,children:e.value})}))]})]})}),Object(k.jsx)(o.s,{md:"6",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:" Description "}),Object(k.jsx)(o.E,{type:"textarea",onChange:c,value:t&&t.description,name:"description"})]})})]})]})})}t.default=function(){var e=Object(r.useState)(),t=Object(s.a)(e,2),c=t[0],u=t[1],N=Object(r.useState)(),S=Object(s.a)(N,2),E=S[0],T=S[1],A=Object(r.useState)("1"),P=Object(s.a)(A,2),M=P[0],I=P[1],Y=Object(r.useState)(""),H=Object(s.a)(Y,2),B=H[0],F=H[1],U=Object(r.useState)(""),R=Object(s.a)(U,2),z=R[0],L=R[1],G=Object(r.useState)(""),V=Object(s.a)(G,2),J=V[0],q=V[1],Q=Object(r.useState)(""),W=Object(s.a)(Q,2),X=W[0],K=W[1],Z=Object(r.useState)(!1),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ce=Object(r.useState)(!1),ne=Object(s.a)(ce,2),ae=ne[0],se=ne[1],re=Object(r.useState)({modelType:""}),oe=Object(s.a)(re,2),ie=oe[0],le=oe[1],de=Object(r.useState)({modelType:""}),je=Object(s.a)(de,2),be=je[0],ue=je[1],he=Object(r.useState)(!1),Oe=Object(s.a)(he,2),me=Oe[0],xe=Oe[1],fe=Object(r.useState)(!1),pe=Object(s.a)(fe,2),ge=pe[0],ye=pe[1],Ce=Object(r.useState)(""),ve=Object(s.a)(Ce,2),we=ve[0],_e=ve[1],Ne=Object(r.useState)(""),Se=Object(s.a)(Ne,2),ke=Se[0],De=Se[1],Ee=Object(r.useState)(!1),Te=Object(s.a)(Ee,2),Ae=Te[0],Pe=Te[1],Me=Object(r.useState)({modelType:""}),Ie=Object(s.a)(Me,2),Ye=Ie[0],He=Ie[1],Be=Object(r.useState)(!1),Fe=Object(s.a)(Be,2),Ue=Fe[0],Re=Fe[1],ze=Object(r.useState)(null),Le=Object(s.a)(ze,2),Ge=Le[0],Ve=Le[1],Je=Object(r.useState)(),qe=Object(s.a)(Je,2),Qe=qe[0],We=qe[1],Xe=Object(r.useState)(!1),Ke=Object(s.a)(Xe,2),Ze=Ke[0],$e=Ke[1],et=Object(r.useState)(),tt=Object(s.a)(et,2),ct=tt[0],nt=tt[1],at=Object(r.useState)({contact_id:""}),st=Object(s.a)(at,2),rt=st[0],ot=st[1],it=Object(r.useState)(),lt=Object(s.a)(it,2),dt=lt[0],jt=lt[1],bt=Object(r.useState)(),ut=Object(s.a)(bt,2),ht=ut[0],Ot=ut[1],mt=Object(b.h)().id,xt=Object(b.g)(),ft=Object(r.useContext)(w.b).loggedInuser,pt=function(){We(!Qe)},gt=function(e){nt(Object(a.a)(Object(a.a)({},ct),{},Object(n.a)({},e.target.name,e.target.value)))},yt=function(){""!==c.title?(c.modification_date=_.a,c.modified_by=ft.first_name,C.a.post("/scheme/editScheme",c).then((function(){Object(y.a)("Record edited successfully","success")})).catch((function(){Object(y.a)("Unable to edit record.","error")}))):Object(y.a)("Please fill all required fields","warning")};console.log("SchemeContacts",ht);var Ct=[{name:"id",selector:"contact_id",grow:0,wrap:!0,width:"4%"},{name:"Name",selector:"first_name",sortable:!0,grow:0,wrap:!0},{name:"Email",selector:"email",sortable:!0,grow:0},{name:"Phone",selector:"mobile",sortable:!0,width:"auto",grow:3},{name:"Address",selector:"address1",sortable:!0,width:"auto",grow:3},{name:"Del",selector:"delete",cell:function(){return Object(k.jsx)(l.a,{})},grow:0,width:"auto",wrap:!0}];return Object(r.useEffect)((function(){C.a.post("/scheme/getSchemeByID",{scheme_id:mt}).then((function(e){u(e.data.data)})).catch((function(){Object(y.a)("Content Data Not Found","info")}))}),[mt]),Object(r.useEffect)((function(){C.a.post("/scheme/getSchemeContactsByID",{scheme_id:mt}).then((function(e){Ot(e.data.data),console.log("setSchemeContacts",e.data.data)})).catch((function(){Object(y.a)("Failed to fetch scheme contacts.","error")}))}),[mt]),Object(r.useEffect)((function(){C.a.get("/scheme/getSchemeStatus",E).then((function(e){T(e.data.data)})),C.a.get("/scheme/getContact").then((function(e){jt(e.data.data)}))}),[]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(O.a,{heading:c&&c.title}),Object(k.jsx)(o.A,{children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(x.a,{children:Object(k.jsxs)(o.eb,{children:[Object(k.jsx)(o.s,{children:Object(k.jsx)(o.e,{color:"primary",onClick:function(){yt(),setTimeout((function(){xt("/Content")}),1100)},children:"Save"})}),Object(k.jsx)(o.s,{children:Object(k.jsx)(o.e,{color:"primary",onClick:function(){yt()},children:"Apply"})}),Object(k.jsx)(o.s,{children:Object(k.jsx)(o.e,{color:"dark",onClick:function(){xt("/Content"),console.log("back to list")},children:"Back to List"})})]})}),Object(k.jsx)(D,{schemeEditDetails:c,handleInputs:function(e){u(Object(a.a)(Object(a.a)({},c),{},Object(n.a)({},e.target.name,e.target.value)))},schemeStatus:E})]})}),Object(k.jsxs)(m.default,{title:"More Details",children:[Object(k.jsx)(i.a,{}),Object(k.jsx)(v.a,{toggle:function(e){M!==e&&I(e)},tabs:[{id:"1",name:"Contact Linked"},{id:"2",name:"Attachment"}]}),Object(k.jsxs)(o.gb,{className:"p-4",activeTab:M,children:[Object(k.jsxs)(o.hb,{tabId:"1",children:[Object(k.jsx)(o.s,{md:"3",children:Object(k.jsx)(o.e,{color:"primary",className:"shadow-none",onClick:pt.bind(null),children:"Add New Contact"})}),Object(k.jsx)("br",{}),Object(k.jsx)(o.eb,{children:Object(k.jsx)(o.A,{children:Object(k.jsx)(o.C,{children:Object(k.jsxs)(o.ib,{id:"example",className:"display border border-secondary rounded",children:[Object(k.jsx)("thead",{children:Object(k.jsx)("tr",{children:Ct.map((function(e){return Object(k.jsx)("td",{children:e.name},e.name)}))})}),Object(k.jsx)("tbody",{children:ht&&ht.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:t+1}),Object(k.jsx)("td",{children:e.first_name}),Object(k.jsx)("td",{children:e.email}),Object(k.jsx)("td",{children:e.mobile}),Object(k.jsx)("td",{children:e.address1}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{color:"primary",className:"anchor",children:Object(k.jsx)("span",{onClick:function(){return t=e.contact_scheme_id,void h.a.fire({title:"Are you sure? ",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&C.a.post("/scheme/deleteContactSchemeData",{contact_scheme_id:t}).then((function(){h.a.fire("Deleted!","Scheme COntact has been deleted.","success"),Object(y.a)("Record deleted successfully","success"),setTimeout((function(){window.location.reload()}),300)})).catch((function(){Object(y.a)("Unable to delete record.","error")}))}));var t},children:Object(k.jsx)(d.a,{})})})})]},e.contact_scheme_id)}))})]})})})}),Object(k.jsxs)(o.N,{size:"lg",isOpen:Qe,toggle:pt.bind(null),children:[Object(k.jsx)(o.Q,{toggle:pt.bind(null),children:"Link Contact to Scheme"}),Object(k.jsx)(o.O,{children:Object(k.jsxs)(o.C,{children:[Object(k.jsxs)(o.eb,{children:[Object(k.jsx)(o.s,{md:"6",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:"Contact"}),Object(k.jsxs)(o.E,{type:"select",onChange:function(e){ot(Object(a.a)(Object(a.a)({},rt),{},{contact_id:e.target.value})),function(e){ot(Object(a.a)(Object(a.a)({},rt),{},Object(n.a)({},e.target.name,e.target.value)))}(e)},value:rt.contact_id,name:"contact_id",children:[Object(k.jsx)("option",{value:"selected",children:"Please Select"}),dt&&dt.map((function(e){return Object(k.jsx)("option",{value:e.contact_id,children:e.first_name},e.contact_id)}))]})]})}),Object(k.jsx)(o.s,{md:"6",children:Object(k.jsx)(o.e,{color:"primary",className:"shadow-none",onClick:function(){$e(!0)},children:"Add New Contact"})})]}),Object(k.jsx)("br",{}),Object(k.jsxs)(o.P,{children:[Object(k.jsx)(o.e,{color:"primary",className:"shadow-none",onClick:function(){""!==rt.contact_id?(rt.creation_date=_.a,rt.created_by=ft.first_name,rt.scheme_id=mt,C.a.post("/scheme/insertContactSchemeData",rt).then((function(){Object(y.a)("Contact inserted successfully.","success"),We(!1)})).catch((function(){Object(y.a)("Network connection error.","error")}))):Object(y.a)("Please fill all required fields.","error")},children:"Submit"}),Object(k.jsx)(o.e,{color:"secondary",className:"shadow-none",onClick:function(){We(!1)},children:"Cancel"})]})]})})]}),Object(k.jsxs)(o.N,{isOpen:Ze,children:[Object(k.jsx)(o.Q,{children:"Add New Contact"}),Object(k.jsx)(o.O,{children:Object(k.jsx)(o.C,{children:Object(k.jsx)(o.eb,{children:Object(k.jsx)(o.s,{md:"24",className:"mb-4",children:Object(k.jsx)(o.eb,{children:Object(k.jsx)(o.C,{children:Object(k.jsxs)(o.eb,{children:[Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:"Name"}),Object(k.jsx)(o.E,{type:"text",onChange:gt,value:ct&&ct.first_name,name:"first_name"})]})}),Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:"Mobile"}),Object(k.jsx)(o.E,{type:"text",onChange:gt,value:ct&&ct.mobile,name:"mobile"})]})}),Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:"Email"}),Object(k.jsx)(o.E,{type:"text",onChange:gt,value:ct&&ct.email,name:"email"})]})}),Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:"Password"}),Object(k.jsx)(o.E,{type:"text",onChange:gt,value:ct&&ct.pass_word,name:"pass_word"})]})}),Object(k.jsx)(o.s,{md:"3",children:Object(k.jsxs)(o.C,{children:[Object(k.jsx)(o.H,{children:"Address"}),Object(k.jsx)(o.E,{type:"text",onChange:gt,value:ct&&ct.address1,name:"address1"})]})})]})})})})})})}),Object(k.jsxs)(o.P,{children:[Object(k.jsx)(o.e,{color:"primary",className:"shadow-none",onClick:function(){""!==ct.first_name?(ct.creation_date=_.a,ct.created_by=ft.first_name,C.a.post("/scheme/insertContact",ct).then((function(e){var t=e.data.data.insertId;ot(Object(a.a)(Object(a.a)({},rt),{},{contact_id:t})),ot(Object(a.a)(Object(a.a)({},rt),{},{contact_id:e.data.data.insertId})),Object(y.a)("Contact inserted successfully.","success"),$e(!1)})).catch((function(){Object(y.a)("Network connection error.","error")}))):Object(y.a)("Please fill all required fields.","error")},children:"Submit"}),Object(k.jsx)(o.e,{color:"secondary",className:"shadow-none",onClick:function(){$e(!1)},children:"Cancel"})]})]})]}),Object(k.jsxs)(o.hb,{tabId:"2",children:[Object(k.jsx)(o.A,{children:Object(k.jsx)(o.C,{children:Object(k.jsxs)(m.default,{title:"Picture",children:[Object(k.jsx)(o.eb,{children:Object(k.jsx)(o.s,{xs:"12",md:"3",className:"mb-3",children:Object(k.jsx)(o.e,{className:"shadow-none",color:"primary",onClick:function(){F("ContentPic"),q(["JPG","JPEG","PNG","GIF"]),ue({modelType:"picture"}),te(!0)},children:Object(k.jsx)(j.a,{className:"rounded-circle",width:"20"})})})}),Object(k.jsx)(p.a,{moduleId:mt,attachmentModal:ee,setAttachmentModal:te,roomName:B,fileTypes:J,altTagData:"Content Data",desc:"Content Data",recordType:"Picture",mediaType:be.modelType,update:me,setUpdate:xe}),Object(k.jsx)(f.a,{moduleId:mt,roomName:"Content",recordType:"Picture",update:me,setUpdate:xe})]})})}),Object(k.jsx)(o.A,{children:Object(k.jsx)(o.C,{children:Object(k.jsxs)(m.default,{title:"Attachments",children:[Object(k.jsx)(o.eb,{children:Object(k.jsx)(o.s,{xs:"12",md:"3",className:"mb-3",children:Object(k.jsx)(o.e,{className:"shadow-none",color:"primary",onClick:function(){L("ContentAttachment"),K(["JPG","JPEG","PNG","GIF","PDF"]),le({modelType:"attachment"}),se(!0)},children:Object(k.jsx)(j.a,{className:"rounded-circle",width:"20"})})})}),Object(k.jsx)(p.a,{moduleId:mt,attachmentModal:ae,setAttachmentModal:se,roomName:z,fileTypes:X,altTagData:"ContentRelated Data",desc:"ContentRelated Data",recordType:"ContentRelatedPicture",mediaType:ie.modelType,update:ge,setUpdate:ye}),Object(k.jsx)(f.a,{moduleId:mt,roomName:"ContentAttachment",recordType:"ContentRelatedPicture",update:ge,setUpdate:ye})]})})}),Object(k.jsx)(o.A,{children:Object(k.jsx)(o.C,{children:Object(k.jsxs)(m.default,{title:"Audio Attachments",children:[Object(k.jsx)(o.eb,{children:Object(k.jsx)(o.s,{xs:"12",md:"3",className:"mb-3",children:Object(k.jsx)(o.e,{className:"shadow-none",color:"primary",onClick:function(){_e("ContentAudioAttachment"),De(["GIF","OGG","MP3","WAV","M4A"]),He({modelType:"audioattachment"}),Pe(!0)},children:Object(k.jsx)(j.a,{className:"rounded-circle",width:"20"})})})}),Object(k.jsx)(p.a,{moduleId:mt,attachmentModal:Ae,setAttachmentModal:Pe,roomName:we,fileTypes:ke,altTagData:"ContentRelated Data",desc:"ContentRelated Data",recordType:"ContentRelatedAudio",mediaType:Ye.modelType,update:Ue,setUpdate:Re,editaudiodatamodal:Ge,setEditAudioDataModal:Ve}),Object(k.jsx)(g.a,{moduleId:mt,roomName:"ContentAudioAttachment",recordType:"ContentRelatedAudio",update:Ue,setUpdate:Re})]})})})]})]})]})]})}},202:function(e,t,c){"use strict";var n=c(187),a=c.n(n)()().format("DD-MM-YYYY h:mm:ss a");t.a=a},270:function(e,t,c){},271:function(e,t,c){},272:function(e,t,c){"use strict";var n=c(63),a=c(3),s={textAlign:"right",marginRight:"10px"},r={outline:"none",border:"none"};t.a=function(e){var t=e.children;return Object(a.jsx)(n.i,{className:"shadow-none",children:Object(a.jsx)(n.j,{style:s,children:Object(a.jsx)("div",{className:"btn btn-space text-nowrap shadow-none outline-none",style:r,children:t})})})}},292:function(e,t,c){"use strict";var n=c(1),a=c.n(n),s=c(0),r=c.n(s);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}var l=Object(n.forwardRef)((function(e,t){var c=e.color,n=void 0===c?"currentColor":c,s=e.size,r=void 0===s?24:s,l=i(e,["color","size"]);return a.a.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.a.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))}));l.propTypes={color:r.a.string,size:r.a.oneOfType([r.a.string,r.a.number])},l.displayName="Edit2",t.a=l},307:function(e,t,c){"use strict";var n=c(27),a=c(1),s=c(63),r=c(372),o=c(7),i=c(143),l=c(3);t.a=function(e){var t=e.attachmentModal,c=e.setAttachmentModal,d=e.moduleId,j=e.roomName,b=e.fileTypes,u=e.altTagData,h=e.desc,O=Object(a.useState)([]),m=Object(n.a)(O,2),x=m[0],f=m[1],p=Object(a.useState)(),g=Object(n.a)(p,2),y=g[0],C=g[1],v=Object(a.useState)(null),w=Object(n.a)(v,2),_=w[0],N=w[1];return Object(l.jsx)("div",{children:Object(l.jsxs)(s.N,{isOpen:t,children:[Object(l.jsx)(s.Q,{children:"Upload Media"}),Object(l.jsxs)(s.O,{children:[Object(l.jsxs)(s.C,{children:[Object(l.jsx)(r.a,{multiple:!0,handleChange:function(e){var t=Object.entries(e).map((function(e){return e[1]}));f(e),C(t),console.log(e)},name:"file",types:b}),y?y.map((function(e){return Object(l.jsx)("div",{children:Object(l.jsxs)("span",{children:[" Name: ",e.name," "]})})})):Object(l.jsx)("span",{children:"No file selected"})]}),_&&Object(l.jsx)("div",{className:"progress mt-2",children:Object(l.jsx)("div",{className:"progress-bar h-4",role:"progressbar","aria-valuenow":_,"aria-valuemin":"0","aria-valuemax":"100",style:{width:"".concat(_,"%")},children:"".concat(_,"% uploaded")})})]}),Object(l.jsxs)(s.P,{children:[Object(l.jsx)(s.e,{color:"primary",className:"shadow-none",onClick:function(){!function(){if(x){var e=new FormData;Object.entries(x).map((function(e){return e[1]})).forEach((function(t){e.append("files",t)})),e.append("record_id",d),e.append("room_name",j),e.append("alt_tag_data",u),e.append("description",h),o.a.post("/file/uploadFiles",e,{onUploadProgress:function(e){console.log(Math.round(e.loaded/e.total*100)),N(Math.round(e.loaded/e.total*100))}}).then((function(){Object(i.a)("Files Uploaded Successfully","success")})).catch((function(){c(!1),Object(i.a)("Unable to upload File","error")}))}else Object(i.a)("No files selected","info")}()},children:"Upload"}),Object(l.jsx)(s.e,{color:"secondary",className:"shadow-none",onClick:function(){window.location.reload(),c(!1)},children:"Cancel"})]})]})})}},308:function(e,t,c){"use strict";var n=c(27),a=c(1),s=c(291),r=c.n(s),o=c(500),i=c(143),l=c(7),d=c(3);t.a=function(e){var t=e.moduleId,c=e.roomName,s={},j=Object(a.useState)(null),b=Object(n.a)(j,2),u=b[0],h=b[1];return Object(a.useEffect)((function(){l.a.post("/file/getListOfFiles",{record_id:t,room_name:c}).then((function(e){h(e.data)}))}),[]),Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("table",{style:s,children:[Object(d.jsx)("thead",{children:Object(d.jsxs)("tr",{style:s,children:[Object(d.jsx)("th",{style:s,children:"File Name"}),Object(d.jsx)("th",{width:"5%"})]})}),Object(d.jsx)("tbody",{children:u?u.map((function(e){return Object(d.jsxs)("tr",{children:[Object(d.jsx)("td",{style:s,children:Object(d.jsx)("a",{href:"https://emsweb.unitdtechnologies.com/storage/uploads/".concat(e.name),target:"_blank",rel:"noreferrer",children:e.name})}),Object(d.jsx)("td",{style:s,children:Object(d.jsxs)("button",{type:"button",className:"btn shadow-none",onClick:function(){var t;t=e.media_id,r.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&l.a.post("/file/deleteFile",{media_id:t}).then((function(e){console.log(e),r.a.fire("Deleted!","Media has been deleted.","success"),window.location.reload()})).catch((function(){Object(i.a)("Unable to Delete Media","info")}))}))},children:[Object(d.jsx)(o.a,{})," "]})})]},e.media_id)})):Object(d.jsx)("tr",{children:Object(d.jsx)("td",{children:Object(d.jsx)("p",{children:"no files uploaded yet"})})})})]})})}},357:function(e,t,c){"use strict";var n=c(1),a=c.n(n),s=c(0),r=c.n(s);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}var l=Object(n.forwardRef)((function(e,t){var c=e.color,n=void 0===c?"currentColor":c,s=e.size,r=void 0===s?24:s,l=i(e,["color","size"]);return a.a.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.a.createElement("path",{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}),a.a.createElement("polyline",{points:"13 2 13 9 20 9"}))}));l.propTypes={color:r.a.string,size:r.a.oneOfType([r.a.string,r.a.number])},l.displayName="File",t.a=l},373:function(e,t,c){"use strict";c.d(t,"a",(function(){return i}));var n=c(27),a=c(1),s=c(63),r=c(58),o=c(3);function i(e){var t=e.toggle,c=e.tabs,i=Object(r.c)(),l=Object(n.a)(i,2),d=l[0],j=l[1];return Object(a.useEffect)((function(){t(d.get("tab"))}),[d.get("tab")]),Object(o.jsx)(s.R,{tabs:!0,children:null===c||void 0===c?void 0:c.map((function(e){return Object(o.jsx)(s.S,{children:Object(o.jsx)(s.T,{className:e.id===d.get("tab")?"active":"",onClick:function(){j({tab:e.id}),t(e.id)},children:e.name},e.id)},e.id)}))})}},747:function(e,t,c){"use strict";var n=c(1),a=c.n(n),s=c(0),r=c.n(s);function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n])}return e},o.apply(this,arguments)}function i(e,t){if(null==e)return{};var c,n,a=function(e,t){if(null==e)return{};var c,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||(a[c]=e[c]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)c=s[n],t.indexOf(c)>=0||Object.prototype.propertyIsEnumerable.call(e,c)&&(a[c]=e[c])}return a}var l=Object(n.forwardRef)((function(e,t){var c=e.color,n=void 0===c?"currentColor":c,s=e.size,r=void 0===s?24:s,l=i(e,["color","size"]);return a.a.createElement("svg",o({ref:t,xmlns:"http://www.w3.org/2000/svg",width:r,height:r,viewBox:"0 0 24 24",fill:"none",stroke:n,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},l),a.a.createElement("polyline",{points:"3 6 5 6 21 6"}),a.a.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}))}));l.propTypes={color:r.a.string,size:r.a.oneOfType([r.a.string,r.a.number])},l.displayName="Trash",t.a=l},762:function(e,t,c){"use strict";var n=c(2),a=c(9),s=c(27),r=c(1),o=c(63),i=c(291),l=c.n(i),d=c(187),j=c.n(d),b=c(500),u=c(292),h=c(143),O=c(7),m=c(202),x=c(64),f=c(3);t.a=function(e){var t=e.moduleId,c=e.roomName,i=e.update,d=e.setUpdate,p={},g=Object(r.useState)(null),y=Object(s.a)(g,2),C=y[0],v=y[1],w=function(){O.a.post("/file/getListOfFiles",{record_id:t,room_name:c}).then((function(e){v(e.data)}))},_=Object(r.useState)(),N=Object(s.a)(_,2),S=N[0],k=N[1],D=Object(r.useState)(null),E=Object(s.a)(D,2),T=E[0],A=E[1],P=Object(r.useState)(null),M=Object(s.a)(P,2),I=M[0],Y=M[1],H=function(e){A(Object(a.a)(Object(a.a)({},T),{},Object(n.a)({},e.target.name,e.target.value)))},B=Object(r.useContext)(x.b).loggedInuser,F=function(e){O.a.post("/content/getAudioDataById",{media_id:e}).then((function(e){A(e.data.data),console.log(e.data.data)}))};return Object(r.useEffect)((function(){F()}),[]),Object(r.useEffect)((function(){w()}),[i]),Object(r.useEffect)((function(){w()}),[]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("table",{style:p,children:[Object(f.jsx)("thead",{children:Object(f.jsxs)("tr",{style:p,children:[Object(f.jsx)("th",{style:p,children:"File Name"}),Object(f.jsx)("th",{width:"5%"})]})}),Object(f.jsx)("tbody",{children:C?C.map((function(e){return Object(f.jsxs)("tr",{children:[Object(f.jsx)("td",{style:p,children:Object(f.jsx)("a",{href:"http://43.228.126.245/EMS-API/storage/uploads/".concat(e.name),target:"_blank",rel:"noreferrer",children:e.name})}),Object(f.jsx)("td",{style:p,children:Object(f.jsxs)("button",{type:"button",className:"btn shadow-none",onClick:function(){var t;t=e.media_id,l.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(e){e.isConfirmed&&O.a.post("/file/deleteFile",{media_id:t}).then((function(e){console.log(e),l.a.fire("Deleted!","Media has been deleted.","success"),d(!i)})).catch((function(){Object(h.a)("Unable to Delete Media","info")}))}))},children:[Object(f.jsx)(b.a,{})," "]})}),Object(f.jsx)("td",{style:p,children:Object(f.jsxs)("button",{type:"button",className:"btn shadow-none",onClick:function(){k(!0),F(e.media_id),Y(e.media_id)},children:[Object(f.jsx)(u.a,{})," "]})})]},e.media_id)})):Object(f.jsx)("tr",{children:Object(f.jsx)("td",{children:Object(f.jsx)("p",{children:"no files uploaded yet"})})})})]}),Object(f.jsxs)(o.N,{size:"lg",isOpen:S,children:[Object(f.jsxs)(o.Q,{children:["Insert Audio Datas",Object(f.jsx)(o.e,{color:"secondary",className:"shadow-none",onClick:function(){k(!1)},children:"X"})]}),Object(f.jsx)(o.O,{children:Object(f.jsx)(o.eb,{children:Object(f.jsx)(o.s,{md:"12",children:Object(f.jsx)(o.i,{children:Object(f.jsx)(o.j,{children:Object(f.jsxs)(o.A,{children:[Object(f.jsxs)(o.eb,{children:[Object(f.jsx)(o.s,{md:"3",children:Object(f.jsxs)(o.C,{children:[Object(f.jsx)(o.H,{children:"Tag"}),Object(f.jsx)(o.E,{type:"text",onChange:H,defaultValue:T&&T.tag,name:"tag"})]})}),Object(f.jsx)(o.s,{md:"3",children:Object(f.jsxs)(o.C,{children:[Object(f.jsx)(o.H,{children:"Author Name"}),Object(f.jsx)(o.E,{type:"text",onChange:H,defaultValue:T&&T.author_name,name:"author_name"})]})}),Object(f.jsx)(o.s,{md:"3",children:Object(f.jsxs)(o.C,{children:[Object(f.jsx)(o.H,{children:"Date"}),Object(f.jsx)(o.E,{type:"date",onChange:H,defaultValue:T&&j()(T.date).format("YYYY-MM-DD"),name:"date"})]})}),Object(f.jsx)(o.s,{md:"3",children:Object(f.jsxs)(o.C,{children:[Object(f.jsx)(o.H,{children:"Published Date"}),Object(f.jsx)(o.E,{type:"date",onChange:H,defaultValue:T&&j()(T.published_date).format("YYYY-MM-DD"),name:"published_date"})]})})]}),Object(f.jsx)(o.eb,{children:Object(f.jsx)(o.s,{md:"6",children:Object(f.jsxs)(o.C,{children:[Object(f.jsx)(o.H,{children:"Comments"}),Object(f.jsx)(o.E,{type:"textarea",rows:4,onChange:H,defaultValue:T&&T.comments,name:"comments"})]})})})]})})})})})}),Object(f.jsxs)(o.P,{children:[Object(f.jsx)(o.e,{color:"primary",className:"shadow-none",onClick:function(){T.modification_date=m.a,T.modified_by=B.first_name,T.content_id=t,T.media_id=I,O.a.post("/content/editAudioData",T).then((function(){Object(h.a)("Record edited successfully","success")})).catch((function(){Object(h.a)("Unable to edit record.","error")})),k(!1)},children:" Submit "}),Object(f.jsx)(o.e,{color:"secondary",className:"shadow-none",onClick:function(){k(!1)},children:"Cancel"})]})]})]})}}}]);
//# sourceMappingURL=58.9e699b5d.chunk.js.map