{"version":3,"sources":["views/apps/accessControlCASL/AccessControl.js","components/CreationModification.js","components/ComponentCard.js"],"names":["permissions","CanEdit","action","subject","CanDelete","users","admin","Manager","SubscriberReadOnly","addresses","city","street","type","AccessControl","React","useState","Object","keys","userId","setUserId","userPermissions","map","id","actions","reduce","collection","add","Set","ability","defineAbility","can","forEach","lg","title","entries","outline","color","onClick","className","permission","I","a","size","CreationModification","details","tag","created_by","creation_date","modified_by","modification_date","ComponentCard","children","subtitle","creationModificationDate"],"mappings":"0MAMMA,EAAc,CAClBC,QAAS,CACPC,OAAQ,WACRC,QAAS,WAEXC,UAAW,CACTF,OAAQ,aACRC,QAAS,YAIPE,EAAQ,CACZC,MAAO,CACLN,YAAa,CAAC,UAAW,cAE3BO,QAAS,CACPP,YAAa,CAAC,YAEhBQ,mBAAoB,CAClBR,YAAa,KAIXS,EAAY,CAChB,CACEC,KAAM,WACNC,OAAQ,kBACRC,KAAM,WAER,CACEF,KAAM,iBACNC,OAAQ,kBACRC,KAAM,WAER,CACEF,KAAM,qBACNC,OAAQ,kBACRC,KAAM,WAER,CACEF,KAAM,eACNC,OAAQ,kBACRC,KAAM,WAER,CACEF,KAAM,WACNC,OAAQ,kBACRC,KAAM,YAkEKC,UA9DO,WACpB,MAA4BC,IAAMC,SAASC,OAAOC,KAAKZ,GAAO,IAA9D,mBAAOa,EAAP,KAAeC,EAAf,KACMC,EAAkBf,EAAMa,GAAQlB,YAAYqB,KAAI,SAACC,GAAD,OAAQtB,EAAYsB,MAEpEC,EAAO,YACRH,EAAgBI,QAAO,SAACC,EAAD,GAA6B,IAAdvB,EAAa,EAAbA,OAEvC,OADAuB,EAAWC,IAAIxB,GACRuB,IACN,IAAIE,MAGHC,EAAUC,aAAc,SAACC,GAC7BV,EAAgBW,SAAQ,YAA0B,IAAvB7B,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QACjC2B,EAAI5B,EAAQC,SAGhB,OACE,cAAC,KAAD,UACE,cAAC,IAAD,CAAK6B,GAAG,KAAR,SAIE,eAAC,UAAD,CAAeC,MAAM,mBAArB,UACE,cAAC,IAAD,UACGjB,OAAOkB,QAAQ7B,GAAOgB,KAAI,gBAAEC,EAAF,2BACzB,cAAC,IAAD,CAEEa,QAASjB,IAAWI,EACpBc,MAAM,UACNC,QAAS,kBAAMlB,EAAUG,IAJ3B,SAMGA,GALIA,QASX,qBAAKgB,UAAU,oBAAf,SACGjC,EAAMa,GAAQlB,YAAYqB,KAAI,SAACkB,GAAD,OAC7B,8BAAuBA,GAAbA,QAGd,cAAC,IAAD,CAAWD,UAAU,OAArB,SACG7B,EAAUY,KAAI,gBAAGX,EAAH,EAAGA,KAAMC,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,KAAjB,OACb,cAAC,IAAD,UACE,gCACGF,EADH,KACWC,EACRY,EAAQF,KAAI,SAACnB,GAAD,OACX,cAAC,IAAD,CAAKsC,EAAGtC,EAAQuC,EAAG7B,EAAMgB,QAASA,EAAlC,SACE,cAAC,IAAD,CAAQU,UAAU,OAAOI,KAAK,KAA9B,SACGxC,aANSQ,iB,kEC/FnB,SAASiC,EAAT,GAA0D,IAAD,IAAzBC,eAAyB,MAAf,KAAe,EAATX,EAAS,EAATA,MAK7D,OACE,mCACE,cAAC,IAAD,CAAWY,IAAI,KAAKP,UAAU,+BAA9B,SACE,eAAC,KAAD,WACE,cAAC,IAAD,UAAML,IACLW,GACC,eAAC,IAAD,WACE,cAAC,KAAD,UACE,gDAAmBA,GAAWA,EAAQE,WAAtC,IAAmDF,GAAWA,EAAQG,mBAExE,cAAC,KAAD,CAAKT,UAAU,SAAf,SACE,gDAAmBM,GAAWA,EAAQI,YAAtC,IAAoDJ,GAAWA,EAAQK,iCCOxEC,UAvBO,SAAC,GAA4D,IAA1DC,EAAyD,EAAzDA,SAAUlB,EAA+C,EAA/CA,MAAOmB,EAAwC,EAAxCA,SAASC,EAA+B,EAA/BA,yBACjD,OACE,eAAC,IAAD,CAAMf,UAAU,cAAhB,UACE,cAACK,EAAD,CAAsBC,QAASS,EAA0BpB,MAAOA,IAKhE,eAAC,IAAD,CAAUK,UAAU,MAApB,UACE,cAAC,IAAD,CAAcA,UAAU,kBAAxB,SAA2Cc,GAAY,KACvD,8BAAMD","file":"static/js/170.bbbaed40.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Row, Col, Button, ButtonGroup, ListGroup, ListGroupItem } from 'reactstrap';\r\nimport { defineAbility } from '@casl/ability';\r\nimport { Can } from '@casl/react';\r\nimport ComponentCard from '../../../components/ComponentCard';\r\n\r\nconst permissions = {\r\n  CanEdit: {\r\n    action: 'Can-edit',\r\n    subject: 'address',\r\n  },\r\n  CanDelete: {\r\n    action: 'Can-delete',\r\n    subject: 'address',\r\n  },\r\n};\r\n\r\nconst users = {\r\n  admin: {\r\n    permissions: ['CanEdit', 'CanDelete'],\r\n  },\r\n  Manager: {\r\n    permissions: ['CanEdit'],\r\n  },\r\n  SubscriberReadOnly: {\r\n    permissions: [],\r\n  },\r\n};\r\n\r\nconst addresses = [\r\n  {\r\n    city: 'New York',\r\n    street: '5684 Max Summit',\r\n    type: 'address',\r\n  },\r\n  {\r\n    city: 'Manhatten York',\r\n    street: '5684 Max Summit',\r\n    type: 'address',\r\n  },\r\n  {\r\n    city: 'Canada street York',\r\n    street: '5684 Max Summit',\r\n    type: 'address',\r\n  },\r\n  {\r\n    city: 'Delhi street',\r\n    street: '5684 Max Summit',\r\n    type: 'address',\r\n  },\r\n  {\r\n    city: 'UP Chawk',\r\n    street: '5684 Max Summit',\r\n    type: 'address',\r\n  },\r\n];\r\n\r\nconst AccessControl = () => {\r\n  const [userId, setUserId] = React.useState(Object.keys(users)[0]);\r\n  const userPermissions = users[userId].permissions.map((id) => permissions[id]);\r\n\r\n  const actions = [\r\n    ...userPermissions.reduce((collection, { action }) => {\r\n      collection.add(action);\r\n      return collection;\r\n    }, new Set()),\r\n  ];\r\n\r\n  const ability = defineAbility((can) => {\r\n    userPermissions.forEach(({ action, subject }) => {\r\n      can(action, subject);\r\n    });\r\n  });\r\n  return (\r\n    <Row>\r\n      <Col lg=\"12\">\r\n        {/* --------------------------------------------------------------------------------*/}\r\n        {/* Card-1*/}\r\n        {/* --------------------------------------------------------------------------------*/}\r\n        <ComponentCard title=\"Roll base Access\">\r\n          <ButtonGroup>\r\n            {Object.entries(users).map(([id]) => (\r\n              <Button\r\n                key={id}\r\n                outline={userId !== id}\r\n                color=\"primary\"\r\n                onClick={() => setUserId(id)}\r\n              >\r\n                {id}\r\n              </Button>\r\n            ))}\r\n          </ButtonGroup>\r\n          <div className=\"p-3 bg-light mt-3\">\r\n            {users[userId].permissions.map((permission) => (\r\n              <div key={permission}>{permission}</div>\r\n            ))}\r\n          </div>\r\n          <ListGroup className=\"mt-4\">\r\n            {addresses.map(({ city, street, type }) => (\r\n              <ListGroupItem key={city}>\r\n                <div>\r\n                  {city}, {street}\r\n                  {actions.map((action) => (\r\n                    <Can I={action} a={type} ability={ability}>\r\n                      <Button className=\"mx-1\" size=\"sm\">\r\n                        {action}\r\n                      </Button>\r\n                    </Can>\r\n                  ))}\r\n                </div>\r\n              </ListGroupItem>\r\n            ))}\r\n          </ListGroup>\r\n        </ComponentCard>\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default AccessControl;\r\n","import React from 'react';\r\nimport { CardTitle, Row, Col } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default function CreationModification({ details = null, title }) {\r\n  CreationModification.propTypes = {\r\n    details: PropTypes.object,\r\n    title: PropTypes.string,\r\n  };\r\n  return (\r\n    <>\r\n      <CardTitle tag=\"h4\" className=\"border-bottom px-4 py-3 mb-0\">\r\n        <Row>\r\n          <Col>{title}</Col>\r\n          {details && (\r\n            <Col>\r\n              <Row>\r\n                <small> Creation: {details && details.created_by} {details && details.creation_date}</small>\r\n              </Row>\r\n              <Row className=\"d-flex\">\r\n                <small> Modified: {details && details.modified_by} {details && details.modification_date}</small>\r\n              </Row>\r\n            </Col>\r\n          )}\r\n        </Row>\r\n      </CardTitle>\r\n    </>\r\n   );\r\n}","import { Card, CardBody, CardSubtitle } from 'reactstrap';\r\nimport PropTypes from 'prop-types';\r\nimport CreationModification from './CreationModification';\r\n\r\nconst ComponentCard = ({ children, title, subtitle,creationModificationDate }) => {\r\n  return (\r\n    <Card className='shadow-none'>\r\n      <CreationModification details={creationModificationDate} title={title}></CreationModification>\r\n      {/* <CardTitle tag=\"h4\" className=\"border-bottom px-4 py-3 mb-0\">\r\n        {title}\r\n        <p tag='h2' className=\"float-end small fs-5\">{righttitle}</p>\r\n      </CardTitle> */}\r\n      <CardBody className=\"p-4\">\r\n        <CardSubtitle className=\"text-muted mb-3\">{subtitle || ''}</CardSubtitle>\r\n        <div>{children}</div>\r\n      </CardBody>\r\n    </Card>\r\n  );\r\n};\r\n\r\nComponentCard.propTypes = {\r\n  children: PropTypes.node,\r\n  title: PropTypes.string,\r\n  subtitle: PropTypes.node,\r\n  creationModificationDate:PropTypes.any\r\n};\r\n\r\nexport default ComponentCard;\r\n"],"sourceRoot":""}